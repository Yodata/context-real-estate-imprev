#!/usr/bin/env node
const createView = require('../lib')
const {getData} = require('../lib/solid-client')

require('yargs')
    .wrap(96)
    .options('show-input', {alias: 'i', type: 'boolean'})
    .command(
        'transform <hsfid>', 
        'RealEstateAgent => ExternalUser',
        {},
        async function({hsfid, showInput}) {
            const id = String(hsfid)
            const input = await getData(id)
            const output = createView(input)
            if (showInput) {
                console.log({input})
            }
            console.log('\n--- RESULT ---\n')
            console.log(output)
        }
    )	
	.demandCommand()
	.help()
    .argv
    